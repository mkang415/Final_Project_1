<?xml version="1.0" encoding="UTF-8"?>

<!-- 마이바티스 3 Mapper DOCTYPE -->
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ledger.dao.face.LedgerDao">
	
	<select id="selectCntAll"
	 resultType="int">
		SELECT count(*) FROM LEDGER
		ORDER BY LEDGER_IDX
	</select>
	
	<select id="selectAll"
	 parameterType="util.LedgerPaging"
	 resultType="hashmap">
	 SELECT * FROM (
	 SELECT rownum rnum, B.* FROM (
	 SELECT ledger_idx, member_idx, item, cost, writtendate
	 FROM ledger
	 
	 ORDER BY ledger_idx DESC
	 ) B
	 ORDER BY rnum
	 )
	 WHERE rnum BETWEEN #{startNo} AND #{endNo}
	</select>
	
</mapper>